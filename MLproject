name: californian_housing_market

# 1. Use Docker Environment
# Since you are building the image dynamically with --build-image, 
# you just need a basic Dockerfile pointer.
docker_env:
  image: jedha/sample-ml-workflow:latest

entry_points:
  main:
    parameters:
      n_estimators: {type: int, default: 30}
      criterion: {type: string, default: "squared_error"}
      experiment_name: {type: string, default: "california_housing"}
    
    # 2. The Command
    command: "python app/train.py --n_estimators {n_estimators} --criterion {criterion} --experiment_name {experiment_name}"